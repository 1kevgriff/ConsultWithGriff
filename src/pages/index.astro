---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Card from '../components/Card.astro';
import Button from '../components/Button.astro';

// Get the latest blog post
const allPosts = await getCollection('blog');
const sortedPosts = allPosts.sort((a, b) => {
  return new Date(b.data.date).getTime() - new Date(a.data.date).getTime();
});
const latestPost = sortedPosts[0];
---

<BaseLayout
  title="Kevin W. Griffin - Azure & .NET Architect"
  description="Independent software consultant specializing in ASP.NET Core, Microsoft Azure, and modern web development. 16-time Microsoft MVP."
>
  <!-- Hero Section -->
  <Hero
    title="Azure & .NET Architect for High-Performing Teams"
    subtitle="I help startups and small/medium companies design, modernize, and scale their .NET and Azure systems â€” and I teach developers how to do the same."
    imageSrc="/kevin_rockon.jpg"
    imageAlt="Kevin W. Griffin"
    audienceFilter="Founders, tech leads, and teams dealing with scaling, modernization, or Azure complexity."
    primaryCTA={{
      text: 'Schedule a 30-minute discovery call',
      href: 'https://app.onecal.io/b/kevin-griffin/chat',
    }}
    secondaryCTA={{ text: 'View Courses', href: '/courses' }}
    microcopy="No sales pitch. We'll clarify the problem, options, and next steps."
  />

  <!-- Latest Article Highlight -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4 lg:px-8">
      <Card variant="white" class="max-w-4xl mx-auto">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0">
            <div class="w-2 h-full bg-gold rounded-full"></div>
          </div>
          <div class="flex-1">
            <h2 class="text-2xl font-bold text-navy mb-4">Latest Article</h2>
            <h3 class="text-xl font-semibold mb-3">
              <a
                href={`/${latestPost.data.permalink}`}
                class="text-navy hover:text-gold transition-colors"
              >
                {latestPost.data.title}
              </a>
            </h3>
            <p class="text-gray-700 leading-relaxed mb-4">
              {latestPost.data.excerpt || latestPost.data.summary}
            </p>
            <Button href={`/${latestPost.data.permalink}`} variant="primary" size="sm">
              Read More
            </Button>
          </div>
        </div>
      </Card>
    </div>
  </section>

  <!-- About Section -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl lg:text-4xl font-bold text-navy mb-8 text-center">
          Hi, I'm Kevin Griffin
        </h2>

        <div class="space-y-6 text-lg text-gray-700 leading-relaxed">
          <p>
            Thanks for stopping by! I'm a husband and father of three amazing boys, and an
            independent software consultant helping businesses modernize their technology stacks.
          </p>

          <p>
            With a BS in Computer Science from Old Dominion University and as a{' '}
            <strong class="text-navy">16-time Microsoft MVP</strong>, I specialize in building
            scalable web applications with <strong class="text-navy">ASP.NET Core</strong> and{' '}
            <strong class="text-navy">Microsoft Azure</strong>.
          </p>

          <p>
            I provide hands-on training for teams on modern .NET development, cloud architecture,
            and best practices. If you're looking to level up your team's skills or need expert
            guidance on your next project, I'd love to help.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="py-20 bg-navy-light">
    <div class="container mx-auto px-4 lg:px-8">
      <h2 class="text-3xl lg:text-4xl font-bold text-white mb-12 text-center">How I Can Help</h2>

      <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
        <Card variant="navy" class="text-center">
          <div class="text-gold text-5xl mb-4">ðŸ’¼</div>
          <h3 class="text-xl font-bold mb-3">Consulting</h3>
          <p class="text-gray-200 mb-4">
            Expert guidance on architecture, Azure cloud solutions, and .NET development for your
            projects.
          </p>
          <a href="/consulting" class="text-gold hover:text-gold-warm font-semibold">
            Learn More â†’
          </a>
        </Card>

        <Card variant="navy" class="text-center">
          <div class="text-gold text-5xl mb-4">ðŸŽ“</div>
          <h3 class="text-xl font-bold mb-3">Training</h3>
          <p class="text-gray-200 mb-4">
            Private team training on ASP.NET Core, Azure, SignalR, and modern development practices.
          </p>
          <a href="/courses" class="text-gold hover:text-gold-warm font-semibold">
            View Courses â†’
          </a>
        </Card>

        <Card variant="navy" class="text-center">
          <div class="text-gold text-5xl mb-4">ðŸŽ¤</div>
          <h3 class="text-xl font-bold mb-3">Speaking</h3>
          <p class="text-gray-200 mb-4">
            Engaging technical talks on .NET, Azure, and software architecture for conferences and
            user groups.
          </p>
          <a href="/contact" class="text-gold hover:text-gold-warm font-semibold"> Book Me â†’ </a>
        </Card>
      </div>
    </div>
  </section>

  <!-- Discovery Call CTA Section -->
  <section class="py-20 bg-gold">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl lg:text-4xl font-bold text-navy mb-6">Not Sure Where to Start?</h2>
        <p class="text-xl text-navy mb-4 leading-relaxed">
          Every architecture problem has constraints: budget, timeline, team skills, existing
          systems. In 30 minutes, we'll map out what you're working with and identify realistic
          paths forward.
        </p>
        <p class="text-lg text-navy mb-8 opacity-90">
          You'll leave with clarity on the tradeoffs and a direction â€” whether or not we work
          together.
        </p>
        <Button
          href="https://app.onecal.io/b/kevin-griffin/chat"
          variant="primary"
          size="lg"
          class="bg-navy text-gold border-2 border-navy hover:bg-navy-light"
        >
          Schedule a 30-minute discovery call
        </Button>
      </div>
    </div>
  </section>
</BaseLayout>
